apiGroup: v1
kind: Pod
name: pod-create-with-init
stages:
- delay:
  - 1000000000
  - 5000000000
  next:
  - kind: event
    message: Created container
    reason: Created
    type: Normal
  - data:
      status:
        $setElementOrder/conditions:
        - type: PodReadyToStartContainers
        - type: Initialized
        - type: Ready
        - type: ContainersReady
        - type: PodScheduled
        conditions:
        - lastProbeTime: null
          lastTransitionTime: <Now>
          observedGeneration: 1
          status: "True"
          type: PodReadyToStartContainers
        - lastProbeTime: null
          lastTransitionTime: <Now>
          message: 'containers with incomplete status: [ init-container ]'
          observedGeneration: 1
          reason: ContainersNotInitialized
          status: "False"
          type: Initialized
        - lastProbeTime: null
          lastTransitionTime: <Now>
          message: 'containers with unready status: [ container ]'
          observedGeneration: 1
          reason: ContainersNotReady
          status: "False"
          type: Ready
        - lastProbeTime: null
          lastTransitionTime: <Now>
          message: 'containers with unready status: [ container ]'
          observedGeneration: 1
          reason: ContainersNotReady
          status: "False"
          type: ContainersReady
        - lastProbeTime: null
          lastTransitionTime: <Now>
          observedGeneration: 1
          status: "True"
          type: PodScheduled
        containerStatuses:
        - image: image
          imageID: kwok://image/image
          lastState: {}
          name: container
          ready: false
          restartCount: 0
          started: false
          state:
            waiting:
              reason: PodInitializing
        hostIP: <NodeIPWith("node")>
        initContainerStatuses:
        - image: init-image
          imageID: kwok://image/init-image
          lastState: {}
          name: init-container
          ready: false
          restartCount: 0
          started: false
          state:
            waiting:
              reason: PodInitializing
        observedGeneration: 1
        podIP: <PodIPWith("node", false, "", "pod-create-with-init", "")>
        startTime: <Now>
    kind: patch
    subresource: status
    type: application/strategic-merge-patch+json
  stage: pod-create
  weight: 1

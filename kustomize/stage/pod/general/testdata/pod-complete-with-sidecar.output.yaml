apiGroup: v1
kind: Pod
name: pod-complete-with-sidecar
stages:
- delay:
  - 1000000000
  - 5000000000
  next:
  - data:
      status:
        conditions:
        - lastTransitionTime: <Now>
          reason: PodCompleted
          status: "True"
          type: Initialized
        - lastTransitionTime: <Now>
          reason: PodCompleted
          status: "False"
          type: Ready
        - lastTransitionTime: <Now>
          reason: PodCompleted
          status: "False"
          type: ContainersReady
        containerStatuses:
        - image: image
          name: container
          ready: true
          restartCount: 0
          started: false
          state:
            terminated:
              exitCode: 0
              finishedAt: <Now>
              reason: Completed
              startedAt: "2006-01-02T15:04:05Z"
        initContainerStatuses:
        - image: init-image
          name: init-container
          ready: true
          restartCount: 0
          started: false
          state:
            terminated:
              exitCode: 0
              finishedAt: "2016-01-01T00:00:00Z"
              reason: Completed
              startedAt: "2006-01-02T15:04:05Z"
        - image: sidecar-image
          name: sidecar-container
          ready: false
          restartCount: 0
          started: false
          state:
            terminated:
              exitCode: 0
              finishedAt: <Now>
              reason: Completed
              startedAt: "2006-01-02T15:04:05Z"
        phase: Succeeded
    kind: patch
    subresource: status
    type: application/merge-patch+json
  stage: pod-complete
  weight: 1
